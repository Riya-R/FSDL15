<!DOCTYPE html>
<html lang="en" ng-app="studentApp">
<head>
    <meta charset="UTF-8">
    <title>AngularJS Student Record App</title>

    <!-- AngularJS CDN -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>

    <style>
        body {
            font-family: Arial;
            padding: 20px;
        }
        .container {
            width: 450px;
            padding: 20px;
            border-radius: 10px;
            background: #f4f4f4;
            margin-bottom: 30px;
        }
        input.ng-invalid.ng-touched {
            border: 1px solid red;
        }
        table {
            border-collapse: collapse;
            width: 500px;
            margin-top: 20px;
        }
        th, td {
            border: 1px solid #666;
            padding: 8px;
            text-align: left;
        }
    </style>
</head>

<body ng-controller="StudentController">

    <h2>AngularJS Student Record Application</h2>

    <form name="studentForm" class="container" ng-submit="addStudent(studentForm)">

        <label>Student Name:</label><br>
        <input type="text" 
               name="name" 
               ng-model="student.name" 
               required 
               minlength="3">
        <div style="color:red" ng-if="studentForm.name.$touched && studentForm.name.$invalid">
            Name must be at least 3 characters.
        </div><br>

        <label>Student Email:</label><br>
        <input type="email" 
               name="email" 
               ng-model="student.email" 
               required>
        <div style="color:red" ng-if="studentForm.email.$touched && studentForm.email.$invalid">
            Enter a valid email.
        </div><br>

        <label>Age:</label><br>
        <input type="number" 
               name="age" 
               ng-model="student.age" 
               required 
               min="5" 
               max="100">
        <div style="color:red" ng-if="studentForm.age.$touched && studentForm.age.$invalid">
            Age must be between 5 and 100.
        </div><br>

        <button type="submit">Add Student</button>

    </form>

    <h3>Student Records</h3>
    <table>
        <tr>
            <th>Name</th>
            <th>Email</th>
            <th>Age</th>
        </tr>

        <tr ng-repeat="s in students">
            <td>{{ s.name }}</td>
            <td>{{ s.email }}</td>
            <td>{{ s.age }}</td>
        </tr>
    </table>

    <script>
        var app = angular.module("studentApp", []);

        app.controller("StudentController", function ($scope) {

            $scope.students = [];

            // Add student event
            $scope.addStudent = function (form) {

                // Check if form is valid using $valid
                if (form.$valid) {
                    $scope.students.push({
                        name: $scope.student.name,
                        email: $scope.student.email,
                        age: $scope.student.age
                    });

                    alert("Student Added Successfully!");

                    // Clear form fields
                    $scope.student = {};
                    form.$setPristine();
                    form.$setUntouched();
                } else {
                    alert("Please fill the form correctly!");
                }
            };

        });
    </script>

</body>
</html>
